<!-- Container-fluid starts-->
<div class="container-fluid">
  <div class="card">
    <div class="card-header">
      <h5>Chi tiết người dùng</h5>
    </div>
    <div class="card-body">
      <div class="btn-popup pull-right">
        <a class="btn btn-primary" [routerLink]="'/users/create-user'">Tạo người dùng</a>
      </div>
      <div id="batchDelete" class="category-table custom-datatable transcation-datatable user-image">
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col" sortable="avatar">Ảnh đại diện</th>
                <th scope="col" sortable="firstName">Họ và tên</th>
                <th scope="col" sortable="email">Email</th>
                <th scope="col" sortable="dateOfBirth">Ngày sinh</th>
                <th scope="col" sortable="phoneNumber">Số điện thoại</th>
                <!-- <th scope="col" sortable="address">Địa chỉ</th> -->
                <th scope="col" sortable="isLocked">Trạng thái</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of users">
                <td>
                  <a [routerLink]="['/users', 'edit-user', user.id]"><i class="fa fa-edit f-12"></i></a>&nbsp;
                  <span (click)="openModal(confirm_Delete, user.id)"><i class="fa fa-trash-o"></i></span><!-- <div (click)="delete(user.id)"><i class="fa fa-trash-o"></i></div> -->
                </td>
                <td scope="row">
                  <img [src]="user.imageUrl" class="imgTable" style="width: 20px" />
                </td>
                <td>{{ user.fullName }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.dateOfBirth }}</td>
                <td>{{ user.phoneNumber }}</td>
                <!-- <td>{{user.addresses}}</td> -->
                <td>{{ user.locked }}</td>
              </tr>
            </tbody>
          </table>
          <div class="d-flex justify-content-center p-2">
            <ngb-pagination
              [collectionSize]="theTotalElements"
              [(page)]="thePageNumber"
              [pageSize]="thePageSize"
              [rotate]="true"
              [maxSize]="5"
              [boundaryLinks]="true"
              (pageChange)="listUser()"
            >
            </ngb-pagination>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Container-fluid Ends-->

<!-- Confirm delete -->
<ng-template #confirm_Delete>
  <div class=" modal-confirm-delete">
    <div class="modal-confirm-text">Bạn chắc chắc xoá người dùng này chứ ?</div>
    <div class="modal-btn-option">
      <button type="button" class="btn btn-default width-btn" (click)="confirmBox(userId, success)">Xoá</button>
      <button type="button" class="btn btn-primary width-btn" (click)="decline()">Huỷ</button>
    </div>
  </div>
</ng-template>

<!--Delete success -->
<ng-template #success>
  <div class="modal-body text-center">
    <p class="modal-confirm-text">Xoá người dùng thành công</p>
    <button type="button" class="btn btn-primary" (click)="successDelete()">Tiếp tục</button>
  </div>
</ng-template>
